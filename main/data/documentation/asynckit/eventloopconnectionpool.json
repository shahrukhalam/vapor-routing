{"schemaVersion":{"major":0,"minor":3,"patch":0},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"final","kind":"keyword"},{"text":" ","kind":"text"},{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EventLoopConnectionPool","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Source","kind":"genericParameter"},{"text":"> ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/ConnectionPoolSource","text":"ConnectionPoolSource","preciseIdentifier":"s:8AsyncKit20ConnectionPoolSourceP","kind":"typeIdentifier"}],"platforms":["Linux"]}]},{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Connection pools are used to offset the overhead of creating new connections. Newly"},{"type":"text","text":" "},{"type":"text","text":"opened connections are returned back to the pool and can be re-used until they"},{"type":"text","text":" "},{"type":"text","text":"close."}]},{"type":"paragraph","inlineContent":[{"text":"New connections are created as needed until the maximum configured connection limit","type":"text"},{"text":" ","type":"text"},{"text":"is reached. After the maximum is reached, no new connections will be created unless","type":"text"},{"text":" ","type":"text"},{"text":"existing connections are closed.","type":"text"}]},{"type":"codeListing","code":["let pool = EventLoopConnectionPool(...)","pool.withConnection(...) { conn in","    \/\/ use conn","}"],"syntax":null}],"kind":"content"}],"metadata":{"roleHeading":"Class","navigatorTitle":[{"kind":"identifier","text":"EventLoopConnectionPool"}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"EventLoopConnectionPool"}],"role":"symbol","title":"EventLoopConnectionPool","externalID":"s:8AsyncKit23EventLoopConnectionPoolC","symbolKind":"class","modules":[{"name":"AsyncKit"}]},"variants":[{"paths":["\/documentation\/asynckit\/eventloopconnectionpool"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool"},"abstract":[{"type":"text","text":"Holds a collection of active connections that can be requested and later released"},{"type":"text","text":" "},{"type":"text","text":"back into the pool."}],"kind":"symbol","hierarchy":{"paths":[["doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit"]]},"topicSections":[{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/init(source:maxConnections:requestTimeout:logger:on:)"],"title":"Initializers"},{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/eventLoop","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/logger","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/source"],"title":"Instance Properties"},{"identifiers":["doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/close()","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/releaseConnection(_:)","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/releaseConnection(_:logger:)","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/requestConnection()","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/requestConnection(logger:)","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/withConnection(_:)","doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/withConnection(logger:_:)"],"title":"Instance Methods"}],"sections":[],"references":{"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/source":{"title":"source","url":"\/documentation\/asynckit\/eventloopconnectionpool\/source","type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/source","abstract":[{"type":"text","text":"Connection source."}],"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"source","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Source","kind":"typeIdentifier"}],"kind":"symbol","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/logger":{"title":"logger","url":"\/documentation\/asynckit\/eventloopconnectionpool\/logger","type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/logger","abstract":[{"type":"text","text":"For lifecycle logs."}],"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"text":"logger","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Logger","kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV"}],"kind":"symbol","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/eventLoop":{"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/eventLoop","url":"\/documentation\/asynckit\/eventloopconnectionpool\/eventloop","role":"symbol","kind":"symbol","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"eventLoop"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7NIOCore9EventLoopP","kind":"typeIdentifier","text":"EventLoop"}],"abstract":[{"type":"text","text":"This poolâ€™s event loop."}],"type":"topic","title":"eventLoop"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/withConnection(_:)":{"title":"withConnection(_:)","url":"\/documentation\/asynckit\/eventloopconnectionpool\/withconnection(_:)","type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/withConnection(_:)","abstract":[{"type":"text","text":"Fetches a pooled connection for the lifetime of the closure."}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"withConnection","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Result","kind":"genericParameter"},{"text":">((","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Connection","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"EventLoopFuture","kind":"typeIdentifier","preciseIdentifier":"s:7NIOCore15EventLoopFutureC"},{"text":"<","kind":"text"},{"text":"Result","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"text":"EventLoopFuture","kind":"typeIdentifier","preciseIdentifier":"s:7NIOCore15EventLoopFutureC"},{"text":"<","kind":"text"},{"text":"Result","kind":"typeIdentifier"},{"text":">","kind":"text"}],"kind":"symbol","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/withConnection(logger:_:)":{"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/withConnection(logger:_:)","type":"topic","role":"symbol","url":"\/documentation\/asynckit\/eventloopconnectionpool\/withconnection(logger:_:)","kind":"symbol","title":"withConnection(logger:_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withConnection"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Result"},{"kind":"text","text":">("},{"kind":"externalParam","text":"logger"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7Logging6LoggerV","kind":"typeIdentifier","text":"Logger"},{"kind":"text","text":", ("},{"kind":"typeIdentifier","text":"Source"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Connection"},{"kind":"text","text":") -> "},{"preciseIdentifier":"s:7NIOCore15EventLoopFutureC","kind":"typeIdentifier","text":"EventLoopFuture"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Result"},{"kind":"text","text":">) -> "},{"preciseIdentifier":"s:7NIOCore15EventLoopFutureC","kind":"typeIdentifier","text":"EventLoopFuture"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Result"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Fetches a pooled connection for the lifetime of the closure."}]},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/requestConnection(logger:)":{"type":"topic","kind":"symbol","title":"requestConnection(logger:)","abstract":[{"type":"text","text":"Requests a pooled connection."}],"role":"symbol","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/requestConnection(logger:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"requestConnection","kind":"identifier"},{"text":"(","kind":"text"},{"text":"logger","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV","text":"Logger","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:7NIOCore15EventLoopFutureC","text":"EventLoopFuture","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Connection","kind":"typeIdentifier"},{"text":">","kind":"text"}],"url":"\/documentation\/asynckit\/eventloopconnectionpool\/requestconnection(logger:)"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit":{"type":"topic","kind":"symbol","url":"\/documentation\/asynckit","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit","abstract":[],"role":"collection","title":"AsyncKit"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/releaseConnection(_:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"releaseConnection","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Connection","kind":"typeIdentifier"},{"text":")","kind":"text"}],"title":"releaseConnection(_:)","kind":"symbol","abstract":[{"text":"Releases a connection back to the pool. Use with ","type":"text"},{"type":"codeVoice","code":"requestConnection()"},{"text":".","type":"text"}],"type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/releaseConnection(_:)","url":"\/documentation\/asynckit\/eventloopconnectionpool\/releaseconnection(_:)","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool":{"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EventLoopConnectionPool","kind":"identifier"}],"title":"EventLoopConnectionPool","kind":"symbol","abstract":[{"text":"Holds a collection of active connections that can be requested and later released","type":"text"},{"text":" ","type":"text"},{"text":"back into the pool.","type":"text"}],"type":"topic","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool","navigatorTitle":[{"text":"EventLoopConnectionPool","kind":"identifier"}],"url":"\/documentation\/asynckit\/eventloopconnectionpool","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/close()":{"type":"topic","kind":"symbol","title":"close()","abstract":[{"type":"text","text":"Closes the connection pool."}],"role":"symbol","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/close()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"close","kind":"identifier"},{"text":"() -> ","kind":"text"},{"preciseIdentifier":"s:7NIOCore15EventLoopFutureC","text":"EventLoopFuture","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":">","kind":"text"}],"url":"\/documentation\/asynckit\/eventloopconnectionpool\/close()"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/releaseConnection(_:logger:)":{"type":"topic","kind":"symbol","title":"releaseConnection(_:logger:)","abstract":[{"type":"text","text":"Releases a connection back to the pool. Use with "},{"type":"codeVoice","code":"requestConnection()"},{"type":"text","text":"."}],"role":"symbol","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/releaseConnection(_:logger:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"releaseConnection","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Connection","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"logger","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV","text":"Logger","kind":"typeIdentifier"},{"text":")","kind":"text"}],"url":"\/documentation\/asynckit\/eventloopconnectionpool\/releaseconnection(_:logger:)"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/init(source:maxConnections:requestTimeout:logger:on:)":{"url":"\/documentation\/asynckit\/eventloopconnectionpool\/init(source:maxconnections:requesttimeout:logger:on:)","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/init(source:maxConnections:requestTimeout:logger:on:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"source"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Source"},{"kind":"text","text":", "},{"kind":"externalParam","text":"maxConnections"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":", "},{"kind":"externalParam","text":"requestTimeout"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7NIOCore10TimeAmountV","kind":"typeIdentifier","text":"TimeAmount"},{"kind":"text","text":", "},{"kind":"externalParam","text":"logger"},{"kind":"text","text":": "},{"preciseIdentifier":"s:7Logging6LoggerV","kind":"typeIdentifier","text":"Logger"},{"kind":"text","text":", "},{"text":"on","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"EventLoop","preciseIdentifier":"s:7NIOCore9EventLoopP","kind":"typeIdentifier"},{"text":")","kind":"text"}],"abstract":[{"type":"text","text":"Creates a new "},{"type":"codeVoice","code":"EventLoopConnectionPool"},{"type":"text","text":"."}],"title":"init(source:maxConnections:requestTimeout:logger:on:)","kind":"symbol","type":"topic","role":"symbol"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/ConnectionPoolSource":{"navigatorTitle":[{"kind":"identifier","text":"ConnectionPoolSource"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ConnectionPoolSource"}],"kind":"symbol","url":"\/documentation\/asynckit\/connectionpoolsource","title":"ConnectionPoolSource","role":"symbol","abstract":[{"text":"Source of new connections for ","type":"text"},{"code":"ConnectionPool","type":"codeVoice"},{"text":".","type":"text"}],"identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/ConnectionPoolSource","type":"topic"},"doc://co.pointfree.VaporRouting/documentation/AsyncKit/EventLoopConnectionPool/requestConnection()":{"type":"topic","kind":"symbol","title":"requestConnection()","abstract":[{"type":"text","text":"Requests a pooled connection."}],"role":"symbol","identifier":"doc:\/\/co.pointfree.VaporRouting\/documentation\/AsyncKit\/EventLoopConnectionPool\/requestConnection()","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"requestConnection","kind":"identifier"},{"text":"() -> ","kind":"text"},{"preciseIdentifier":"s:7NIOCore15EventLoopFutureC","text":"EventLoopFuture","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"Source","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Connection","kind":"typeIdentifier"},{"text":">","kind":"text"}],"url":"\/documentation\/asynckit\/eventloopconnectionpool\/requestconnection()"}}}